# Docker Layer Exploit

Kleiner Test, um zu sehen, dass in Docker Images Secrets liegen können, die man nicht beabsichtigt hat zu veröffentlichen.

Ab Docker 18.09 nutzt Docker BuildKit, das Dinge anders macht. Daher müssen wir zur Demo BuildKit ausschalten

`DOCKER_BUILDKIT=0 docker build -t docker-layers-test .`

Mit `docker history docker-layers-test` den layer finden, bevor .env removed wird.

```
docker create --name temp-container <layer-id>
docker cp temp-container:.env ./extracted/.env
docker rm temp-container
```
